---
title: What's new in PHP 8.5
---

PHP 8.5 will be released on [November 20, 2025](https://wiki.php.net/todo/php85). It'll include the pipe operator, clone with, a new URI parser, and more.

---

## [The pipe operator](*https://wiki.php.net/rfc/pipe-operator-v3)

PHP 8.5 introduces the new pipe operator that makes chaining output from one function to another a lot easier. Instead of deeply nested function calls like this:

```php
$input = ' Some kind of string. ';

$output = strtolower(
    str_replace(['.', '/', '…'], '',
        str_replace(' ', '-',
            trim($input)
        )
    )
);
```

You can now write this:

```php
$output = $input 
    |> trim(...)
    |> (fn (string $string) => str_replace(' ', '-', $string))
    |> (fn (string $string) => str_replace(['.', '/', '…'], '', $string))
    |> strtolower(...);
```

I've done a deep-dive into this new operator, and you can [read about it here](/blog/pipe-operator-in-php-85).

---

## [Clone with](*https://wiki.php.net/rfc/clone_with_v2)

There's now a way to assign new values to cloned objects _while_ cloning them:

```php
final class Book
{
    public function __construct(
        public string $title,
        public string $description,
    ) {}
    
    public function withTitle(string $title): self
    {
        return clone($this, [
            'title' => $title,
        ]);
    }
}
```

I think this is a great feature. The only thing I find unfortunate is that it doesn't work when cloning readonly properties from the outside (which I think is a common use case). To do so, you have to specifically reset the propery's write access to `{php}public(set)`. [I explained the problem here](https://www.youtube.com/watch?v=hkuy11kLlmM).

---

## [`(void)` cast and `#[NoDiscard]`](*https://wiki.php.net/rfc/marking_return_value_as_important)

You can now mark a function with the `{php}#[NoDiscard]` attribute, indicating that its return value must be used. If nothing happens with that return value, a warning will be triggered.

```php
#[NoDiscard("you must use this return value, it's very important.")]
function foo(): string {
    return 'hi';
}

// Warning:
// The return value of function foo() is expected to be consumed,
// you must use this return value, it's very important.
foo();

// This is ok:
$string = foo();
```

The warning can still be surpressed by using the new `({:hl-type:void:})` cast:

```php
({:hl-type:void:}) foo();
```

---

## [Closure improvements](*https://wiki.php.net/rfc/closures_in_const_expr)

Closures and first-class callables can now be used in constant expressions. In practice this means you'll be able to define closures in attributes, which is an incredible new feature:

```php
#[SkipDiscovery(static function (Container $container): bool {
    return ! $container->get(Application::class) instanceof ConsoleApplication;
})]
final class BlogPostEventHandlers
{ /* … */ }
```

Note that these kinds of closures must always be excplitly marked as `{php}static`, since they aren't attached to a `{php}$this` scope. They also cannot access variables from the outside scope with `{php}use`.

---

## [Backtraces for fatal errors](*https://wiki.php.net/rfc/error_backtraces_v2)

A small but awesome change: fatal errors will now include backtraces.

```txt
Fatal error: Maximum execution time of 1 second exceeded in example.php on line 6
Stack trace:
#0 example.php(6): usleep(100000)
#1 example.php(7): recurse()
#2 example.php(7): recurse()
#3 example.php(7): recurse()
#4 example.php(7): recurse()
#5 example.php(7): recurse()
#6 example.php(7): recurse()
#7 example.php(7): recurse()
#8 example.php(7): recurse()
#9 example.php(7): recurse()
#10 example.php(10): recurse()
#11 {main}
```

---

## [Added array_first() and array_last()](*https://wiki.php.net/rfc/array_first_last)

Perhaps a bit overdue (`{php}array_key_first()` and `{php}array_key_last()` were added in PHP 7.3), but we finally get built-in functions to get the first and last elements from arrays! So instead of writing this:

```php
$first = $array[array_key_first($array)] ?? null;
```

You can now write this:

```php
$first = array_first($array);
```

---

## [URI parsing](https://wiki.php.net/rfc/url_parsing_api)

There's a brand new URI implemention that makes working with URIs a lot easier:

```php
use Uri\Rfc3986\Uri;

$uri = new Uri('https://tempestphp.com/2.x/getting-started/introduction');

$uri->getHost();
$uri->getScheme();
$uri->getPort();

// …
```

---


## [The `#[DelayedTargetValidation]` attribute](*https://wiki.php.net/rfc/delayedtargetvalidation_attribute)

Some built-in attributes (like `{php}#[Override]`) are validated at compile-time rather than at runtime when being called via reflection. The `{php}#[DelayedTargetValidation]` allows you to pospone that validation to a runtime:

```php
class Child extends Base 
{
	#[DelayedTargetValidation]
	#[Override]
	public const NAME = 'Child';
	
	// Note that this is an example, you cannot currently add #[Override] on constants
}
```

This attribute is added to manage backwards compatibility issues. You can [read a concrete example here](https://wiki.php.net/rfc/delayedtargetvalidation_attribute#example).

---

## Smaller changes

- [Asymmetric visibility support for static properties](*https://wiki.php.net/rfc/static-aviz)
- [Added support for attributes on compile-time non-class constants](*https://wiki.php.net/rfc/attributes-on-constants)
- [Constructor property promotion can now be used for final properties](*https://wiki.php.net/rfc/final_promotion)
- [`#[\Override]` can now be applied to properties](*https://wiki.php.net/rfc/override_properties)
- Added Dom\Element::$outerHTML
- The Exif extension now supports HEIF and HEIC images
- [There's a new `FILTER_THROW_ON_FAILURE` flag when calling `{php}filter_var()`](https://wiki.php.net/rfc/filter_throw_on_failure)

---

## Deprecations and breaking changes 

- [Non-standard cast names like `({:hl-type:boolean:})` and `({:hl-type:integer:})` are deprecated](*https://wiki.php.net/rfc/deprecations_php_8_5#deprecate_non-standard_cast_names)
- [Backticks as an alias for `{php}shell_exec()` are deprecated](*https://wiki.php.net/rfc/deprecations_php_8_5#deprecate_backticks_as_an_alias_for_shell_exec)
- [Constant redeclaration has been deprecated](*https://wiki.php.net/rfc/deprecations_php_8_5#deprecate_constant_redeclaration)
- [The `disabled_classes` ini setting has been removed](*https://wiki.php.net/rfc/deprecations_php_8_5#remove_disable_classes_ini_setting)
- [You can find all breaking changes and deprecations here](*https://github.com/php/php-src/blob/PHP-8.5/UPGRADING#L19)

---

Those are the features and changes that stand out for PHP 8.5; you can find the whole list of everything that's changed [over here](*https://github.com/php/php-src/blob/PHP-8.5/UPGRADING).

What are your thoughts about PHP 8.5? You can leave them in the comments below!